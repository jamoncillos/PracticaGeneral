---
title: "PracticaGeneralResuelta"
author: "Jorge A. Martín"
date: "17/1/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Primero llamo al paquete con `library (palmerpenguins)` y hago un `summary (penguins)`

```{r cargando los datos, echo=FALSE}
library(palmerpenguins)
summary(penguins)
```

### Primer ejercicio:

A\) Número de individuos totales, masculinos, femeninos y de cada especie

-   Número de individuos totales:

```{r}
length(penguins$sex)
```

hay 344 observaciones

-   Número de individuos de cada sexo:

```{r, include=FALSE}
library(dplyr)
library(knitr)
library(kableExtra)
```

`library (dplyr)` 
`library (knitr)`
`library (kableExtra)`

```{r}
n_por_sexo <- penguins %>% group_by(sex) %>% 
  summarise(sample_size = length(sex))
kable(n_por_sexo, align = "l", caption = "Número de individuos de cada sexo") %>% 
  kable_minimal(full_width = F, position="left")
```

hay 165 hembras y 168 machos además de 11 individuos sin sexar

-   Número de individuos de cada especie

```{r}
n_por_especie <- penguins %>% group_by(species) %>% 
  summarise(sample_size = length(sex))
kable(n_por_especie, align = "l", caption = "Número de individuos de cada especie")%>% 
  kable_minimal(full_width = F, position="left")

```

hay 152 individuos de la especie adelie, 68 de chinstrap y 124 de gentoo

-   Número de individuos de cada especie por sexo

```{r}
n_por_especie_y_sexo <- penguins %>% group_by(sex, species) %>% 
  summarise(sample_size = length(sex))
kable(n_por_especie_y_sexo, align = "l", caption = "Número de individuos de cada grupo")%>% 
  kable_minimal(full_width = F, position="left")

```

B\) La media, desviación estándar, valor mínimo y máximo de la longitud y
profundidad del pico, la longitud de la aleta y el tamaño.

```{r}
variables <- c("long_pico", "prof_pico", "long_aleta", "peso")

media <- c(mean(penguins$bill_length_mm, na.rm = T), mean(penguins$bill_depth_mm, na.rm = T), mean(penguins$flipper_length_mm, na.rm = T), mean(penguins$body_mass_g, na.rm = T))

sd <- c(sd(penguins$bill_length_mm, na.rm = T), sd(penguins$bill_depth_mm, na.rm = T), sd(penguins$flipper_length_mm, na.rm = T), sd(penguins$body_mass_g, na.rm = T))

min <- c(min(penguins$bill_length_mm, na.rm = T), min(penguins$bill_depth_mm, na.rm = T), min(penguins$flipper_length_mm, na.rm = T), min(penguins$body_mass_g, na.rm = T))

max<- c(max(penguins$bill_length_mm, na.rm = T), max(penguins$bill_depth_mm, na.rm = T), max(penguins$flipper_length_mm, na.rm = T), max(penguins$body_mass_g, na.rm = T))

descriptiva <- data.frame(variables,media,sd,min,max)

kable(descriptiva, align = "l", caption = "Estadística descriptiva de las variables")%>% 
  kable_minimal(full_width = F, position="left")
```


### Segundo ejercicio:

A\) Un gráfico de barras que represente el número de individuos muestreados de cada especie en cada isla, representando las especies en diferentes colores (chinstrap – morado, gentoo – azul, adelie – naranja). 

`library (ggplot2)`

```{r, include=FALSE}
library(ggplot2)
```
```{r, eval=FALSE}
subset_especies_isla <-penguins %>% group_by(species, island) %>% 
  summarise(n_indiv = length(island))
```

```{r}

ggplot(data = penguins, aes(x=island, fill=species)) + 
  geom_bar(position="dodge") + 
  scale_fill_manual(values = c("dark orange", "purple", "blue")) + 
  labs (y="Nº Individuos", x= "Isla") +
  theme_light() + 
  ggtitle("Esfuerzo de muestreo") + 
  guides (fill = guide_legend(title="Especies"))

  
```

